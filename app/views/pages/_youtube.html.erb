<%= javascript_pack_tag 'youtube', 'data-turbolinks-track': 'reload', defer: true %>
<body class="bg-white bg-img-non">
<div class="bg-white header-youtube" data-details="<%= @details %>">
  <header class="container row w-100 m-auto align-items-center justify-content-md-around justify-content-between py-3">
    <%= image_tag("logo.png", class: "img-logo-mmd" ) %>
  </header>
</div>

<div class="top-head">
  <div class="row align-items-center justify-content-center">
    <div class="col mx-auto text-center">
      <p class="py-3 m-0 font-weight-bold h3 text-white text-top">Save Money & Get The Best Mobile Phone Deals From The UK's Top Providers!</p>
      <div id="player" class="rounded youtube-video"></div>
      <!-- <iframe class="youtube-video border-0 rounded" src="https://www.youtube.com/embed/TwagTgk0t80?autoplay=1" allow="autoplay">
      </iframe> -->
    </div>
  </div>
  <div class="container mb-5 pb-md-0 pb-2">
    <div class="row align-items-center justify-content-center">
      <div class="col-md-4 mx-auto">
        <form class="text-center" id="mmd-deals">
          <div class="mt-4 text-center form-group">
            <label class="d-flex justify-content-center text-center font-weight-bold text-white mb-3">
              What is your Phone number?
            </label>
            <input
              placeholder="Phone number"
              id="phone-num"
              name="phone-num"
              class="phone-num px-2 border border-secondary bg-white rounded text-secondary form-control"
              data-parsley-required="true"
              data-parsley-required-message="Please Enter Valid UK Phone"
              data-parsley-group="block-0"
              data-parsley-type="number"
              data-parsley-validphone
              type="number"
              required>
              <i class="validate success fa fa-check-circle"></i>
              <i class="validate error fa fa-times-circle"></i>
          </div>
          <div class="custom-control custom-checkbox mb-3">
            <input
            type="checkbox"
            name="checkbox"
            class="custom-control-input terms-and-conditions"
            id="checkbox"
            required
            data-parsley-required="true"
            data-parsley-required-message="Please Accept our Terms & Conditions"
            >
            <label class="custom-control-label text-white pt-1 pl-2 text-left" for="checkbox">Accept our Terms & Conditions</label>
          </div>
          <button type="button" class="btn btn-deals btn-light font-weight-bold w-100 mt-3 redirect-to-success">Get Deals Now!</button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="container my-3">
  <div class="row">
    <div class="col-md-7 mx-auto">
      <p class="m-0 fs-17 text-center">Simply enter your Phone Number above to find out which of the UK's Top Mobile Phone Deals you are eligible for. Make sure you do this before buying a Phone or Sim card to get the VERY Best Deals in the UK from the Best Brands. </p>
    </div>
  </div>
</div>
<div class="bg-light">
  <div class="container">
    <div class="row align-items-center justify-content-around py-3">
      <%= image_tag("company/02.png", class: "h-76" ) %>
      <%= image_tag("company/ee.png", class: "h-76") %>
      <%= image_tag("company/three.png", class: "h-76") %>
    </div>
  </div>
</div>
</body>
<%= render 'layouts/common/footer' %>

<script>
  // 2. This code loads the IFrame Player API code asynchronously.


  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // 3. This function creates an <iframe> (and YouTube player)
  //    after the API code downloads.
  var player;

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      videoId: 'TwagTgk0t80',
      playerVars: { },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  // 4. The API will call this function when the video player is ready.
  function onPlayerReady(event) {
    // event.target.playVideo();
    // player.mute();

  }

  // 5. The API calls this function when the player's state changes.
  //    The function indicates that when playing a video (state=1),
  //    the player should play for six seconds and then stop.
  var done = false;
  function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING && !done) {
      setTimeout(stopVideo, 10000);

      done = true;
    }
  }
  function stopVideo() {
    player.stopVideo();
  }
</script>
